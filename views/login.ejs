<!DOCTYPE html>
<html lang="zh-CN" data-page="login-page">
<head>
  <%- include('partials/header') %>
  <title><%= title %></title>
  <link rel="stylesheet" href="/static/css/login.css">
</head>
<body>
  <div class="app-container">
    <!-- 背景元素 -->
    <div class="grid-background"></div>
    <div id="particles-js"></div>

    <div class="main-container">
      <header class="app-header">
        <div class="title-container">
          <h1 class="cyber-title"><span>H</span><span>T</span><span>M</span><span>L</span><span>-</span><span>G</span><span>O</span></h1>
        </div>
        <p class="app-description">分享AI生成内容的最佳方式</p>
      </header>

      <div class="content-area">
        <div class="login-card">
          <h2 class="card-title"><i class="fas fa-lock" style="margin-right: 10px; color: var(--accent);"></i>请输入访问密码</h2>

          <% if (error) { %>
            <div class="error-message"><%= error %></div>
          <% } %>

          <form action="/login" method="post" class="login-form">
            <div class="form-group">
              <div class="password-field">
                <input type="password" name="password" id="password-input" class="cyber-input" placeholder="请输入访问密码..." required autofocus>
                <button type="button" id="toggle-password" class="toggle-password" aria-label="显示密码">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </div>

            <div class="form-group">
              <button type="submit" class="submit-btn">
                <span>登录</span>
                <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </form>

          <script>
            document.addEventListener('DOMContentLoaded', function() {
              const passwordInput = document.getElementById('password-input');
              const toggleButton = document.getElementById('toggle-password');

              toggleButton.addEventListener('click', function() {
                // 切换密码可见性
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);

                // 切换图标
                toggleButton.querySelector('i').className =
                  type === 'password' ? 'fas fa-eye' : 'fas fa-eye-slash';
              });
            });
          </script>
        </div>
      </div>

      <footer class="app-footer">
        <p class="footer-text">@2025 <a href="https://x.com/vista8" target="_blank" rel="noopener noreferrer">向阳乔木</a></p>
      </footer>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="/static/js/theme.js"></script>
  <script src="/static/js/particles-config.js"></script>
</body>
</html>